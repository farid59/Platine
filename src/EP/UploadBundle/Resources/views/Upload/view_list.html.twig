{% extends "EPUploadBundle::layout.html.twig" %}

{% block body %}

<h2>Vos fichiers</h2>

{# searchbar pour la liste de documents #}
<nav id="navbar" class="navbar navbar-default" role="navigation">

        <form class="navbar-form">
            <div class="input-group">
                <select name="categoryFilter">
                    <option value="">Toutes les catégories</option>
                    {% for category in categories %}
                        {% if category.id == categoryFilter %}
                            <option value="{{ category.id }}" selected="selected">{{ category.name }}</option>
                        {% else %}
                            <option value="{{ category.id }}">{{ category.name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="input-group">
                <select name="extFilter">
                    <option value="">Toutes les extensions</option>
                    {% for extension in extensions %}
                        {% if extension == extFilter %}
                            <option value="{{ extension }}" selected="selected">{{ extension }}</option>
                        {% else %}
                            <option value="{{ extension }}">{{ extension }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="input-group">
                <select name="orderby">
                    {% for order in sortType %}
                        {% if order.field == orderby %}
                            <option value="{{ order.field }}" selected="selected">trier par {{ order.name }}</option>
                        {% else %}
                            <option value="{{ order.field }}"> trier par {{ order.name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            
            <div class="navbar-right">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search" name="search" value="{{ search }}">
                    <div class="input-group-btn">
                        <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
                <div class="input-group">
                    <select name="nbPerPage">
                        {% for nbPerPagePossibility in nbPerPagePossibilities %}
                            {% if nbPerPagePossibility == nbPerPage %}
                                <option value="{{ nbPerPagePossibility }}" selected="selected">{{ nbPerPagePossibility }}</option>
                            {% else %}
                                <option value="{{ nbPerPagePossibility }}">{{ nbPerPagePossibility }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                    résultats par page
                </div>
                <button type="submit">OK</button>
            </div>
        </form>
        


</nav>


{# liste des documents #}
{% include 'EPUploadBundle:Upload:list.html.twig' with { 'docs' : docs, } %}

{# pagination #}
<div class="navigation">
    {{ knp_pagination_render(docs) }}
</div>

{% endblock %}

{# {% block javascripts %}
	<script type="text/javascript" src="{{ asset('js/scripts.min.js') }}"></script>
{% endblock %} #}